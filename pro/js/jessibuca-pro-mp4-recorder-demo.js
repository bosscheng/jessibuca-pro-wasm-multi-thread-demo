!function(r){"function"==typeof define&&define.amd?define(r):r()}((function(){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function t(r,e){return r(e={exports:{}},e.exports),e.exports}var n=Object.freeze({__proto__:null,commonjsGlobal:r,commonjsRequire:function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")},unwrapExports:e,createCommonjsModule:t,getCjsExportFromNamespace:function(r){return r&&r.default||r}}),o=a;function a(r,e){var t=u();return(a=function(r,e){return t[r-=137]})(r,e)}!function(r,e){for(var t=a,n=r();;)try{if(989227===parseInt(t(146))/1+-parseInt(t(149))/2+parseInt(t(142))/3*(parseInt(t(144))/4)+-parseInt(t(139))/5*(-parseInt(t(150))/6)+parseInt(t(147))/7*(parseInt(t(140))/8)+parseInt(t(148))/9+-parseInt(t(141))/10)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(u);var s=n[o(137)]((function(r){var e=o;r[e(138)]=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},r[e(138)].__esModule=!0,r[e(138)][e(145)]=r[e(138)]})),i=n[o(143)](s);function u(){var r=["1218GNWqHW","unwrapExports","9244dSkKoI","default","1301600UMgmMt","251426IcLulo","15756714GizMQf","2030796OnoyOT","6355518ffecWB","createCommonjsModule","exports","5dcHwnU","392zdiGVO","48052220bpTJaD"];return(u=function(){return r})()}var c=f;function f(r,e){var t=v();return(f=function(r,e){return t[r-=458]})(r,e)}!function(r,e){for(var t=f,n=r();;)try{if(618536===parseInt(t(469))/1+-parseInt(t(473))/2+parseInt(t(459))/3+-parseInt(t(464))/4*(parseInt(t(463))/5)+parseInt(t(458))/6+parseInt(t(466))/7+-parseInt(t(467))/8)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(v);var p=n[c(471)]((function(r){var e=c;function t(e){var n=f;return r[n(470)]=t=n(468)==typeof Symbol&&n(474)==typeof Symbol[n(462)]?function(r){return typeof r}:function(r){var e=n;return r&&e(468)==typeof Symbol&&r[e(460)]===Symbol&&r!==Symbol.prototype?e(474):typeof r},r.exports.__esModule=!0,r[n(470)][n(472)]=r[n(470)],t(e)}r[e(470)]=t,r.exports[e(461)]=!0,r[e(470)][e(472)]=r[e(470)]})),d=n[c(465)](p);function v(){var r=["default","2384024uAUPNM","symbol","5526558LndbFk","3098082GHCoBZ","constructor","__esModule","iterator","420vrVofL","57892GPPLdN","unwrapExports","8176574KXoaPP","4182360IJTIKP","function","427206BKlizy","exports","createCommonjsModule"];return(v=function(){return r})()}var h=l;function l(r,e){var t=I();return(l=function(r,e){return t[r-=215]})(r,e)}function I(){var r=["1170135OakfMR","exports","createCommonjsModule","3185YhHFzo","126fvLkpm","394678SLpOHc","691880zpVXKT","string","@@toPrimitive must return a primitive value.","4235BUfzpa","toPrimitive","__esModule","1497336zghOiD","8682MZgSiz","3424dQDwzj","522354mNvITM","unwrapExports","default"];return(I=function(){return r})()}!function(r,e){for(var t=l,n=r();;)try{if(470496===parseInt(t(231))/1+parseInt(t(221))/2+parseInt(t(216))/3+-parseInt(t(230))/4*(parseInt(t(219))/5)+-parseInt(t(229))/6*(parseInt(t(225))/7)+-parseInt(t(228))/8+-parseInt(t(220))/9*(-parseInt(t(222))/10))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(I);var b=n[h(218)]((function(r){var e=h,t=p[e(215)];r.exports=function(r,n){var o=e;if("object"!==t(r)||null===r)return r;var a=r[Symbol[o(226)]];if(void 0!==a){var s=a.call(r,n||o(215));if("object"!==t(s))return s;throw new TypeError(o(224))}return(n===o(223)?String:Number)(r)},r[e(217)][e(227)]=!0,r[e(217)].default=r[e(217)]}));n[h(232)](b);var y=m;function m(r,e){var t=g();return(m=function(r,e){return t[r-=129]})(r,e)}function g(){var r=["16bQsXNI","15172fObKnI","434119KHtgKn","48PWDmXt","createCommonjsModule","501325NRYoNx","string","__esModule","3316023oMWVVn","exports","394332FkvHvM","default","symbol","10rfUPmf","21PhDDIZ","62378nIykbT","724031kpxwDq","485PBEMil"];return(g=function(){return r})()}!function(r,e){for(var t=m,n=r();;)try{if(266082===parseInt(t(145))/1+-parseInt(t(137))/2*(-parseInt(t(136))/3)+parseInt(t(141))/4*(parseInt(t(139))/5)+-parseInt(t(132))/6+-parseInt(t(142))/7*(parseInt(t(140))/8)+parseInt(t(130))/9*(-parseInt(t(135))/10)+-parseInt(t(138))/11*(parseInt(t(143))/12))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(g);var k=n[y(144)]((function(r){var e=y,t=p[e(133)];r[e(131)]=function(r){var n=e,o=b(r,n(146));return t(o)===n(134)?o:String(o)},r[e(131)][e(129)]=!0,r[e(131)].default=r[e(131)]}));e(k);var w=R;function R(r,e){var t=x();return(R=function(r,e){return t[r-=316]})(r,e)}function x(){var r=["17178183tXhRYA","defineProperty","948acBwAu","createCommonjsModule","2168XkSHtr","value","7478uredra","exports","default","24nopzhA","enumerable","length","11327350UvCRYW","1703688qFquzr","2666241jeERFt","writable","175585PZMpBA","prototype","271ldNZVw","__esModule","unwrapExports","192YKPIQZ"];return(x=function(){return r})()}!function(r,e){for(var t=R,n=r();;)try{if(642416===parseInt(t(334))/1*(-parseInt(t(322))/2)+-parseInt(t(318))/3*(parseInt(t(320))/4)+parseInt(t(332))/5*(parseInt(t(337))/6)+parseInt(t(329))/7+parseInt(t(325))/8*(parseInt(t(330))/9)+parseInt(t(328))/10+-parseInt(t(316))/11)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(x);var E=n[w(319)]((function(r){var e=w;function t(r,e){for(var t=R,n=0;n<e[t(327)];n++){var o=e[n];o[t(326)]=o[t(326)]||!1,o.configurable=!0,t(321)in o&&(o[t(331)]=!0),Object[t(317)](r,k(o.key),o)}}r[e(323)]=function(r,e,n){var o=R;return e&&t(r[o(333)],e),n&&t(r,n),Object[o(317)](r,o(333),{writable:!1}),r},r.exports[e(335)]=!0,r.exports[e(324)]=r[e(323)]})),_=n[w(336)](E),M=T;!function(r,e){for(var t=T,n=r();;)try{if(688994===-parseInt(t(192))/1*(-parseInt(t(197))/2)+-parseInt(t(198))/3*(parseInt(t(189))/4)+parseInt(t(193))/5+parseInt(t(203))/6*(parseInt(t(200))/7)+parseInt(t(191))/8*(parseInt(t(186))/9)+-parseInt(t(199))/10*(-parseInt(t(201))/11)+parseInt(t(195))/12*(-parseInt(t(196))/13))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(P);var O=n[M(202)]((function(r){var e=M;r.exports=function(r){if(void 0===r)throw new ReferenceError(T(194));return r},r.exports.__esModule=!0,r[e(188)][e(190)]=r[e(188)]}));function P(){var r=["7Rilamr","56617UlxfWr","createCommonjsModule","2089974bjwNtH","8955QVAKmC","unwrapExports","exports","4Gjvthf","default","9656JOULaD","762423EEsjpN","1546400eQNEQh","this hasn't been initialised - super() hasn't been called","3756aBcvWA","96967bEelZP","2gPulUo","2235351uaGbhk","2230NOhvNA"];return(P=function(){return r})()}var j=n[M(187)](O);function T(r,e){var t=P();return(T=function(r,e){return t[r-=186]})(r,e)}var A=N;function N(r,e){var t=S();return(N=function(r,e){return t[r-=101]})(r,e)}function S(){var r=["bind","200UfRKdm","8OoxYNd","createCommonjsModule","2460828tOQhsB","exports","520893bMvPzQ","117002sTOych","__esModule","__proto__","70wuKSiU","1604482DquPzU","13796ltOIUk","2168201CYmIUx","default","8skAIwt","787836KsLayC","setPrototypeOf"];return(S=function(){return r})()}!function(r,e){for(var t=N,n=r();;)try{if(292236===parseInt(t(107))/1*(-parseInt(t(115))/2)+parseInt(t(116))/3+parseInt(t(112))/4*(parseInt(t(101))/5)+parseInt(t(104))/6+-parseInt(t(113))/7*(parseInt(t(102))/8)+parseInt(t(106))/9*(parseInt(t(110))/10)+-parseInt(t(111))/11)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(S);var D=n[A(103)]((function(r){var e=A;function t(e,n){var o=N;return r[o(105)]=t=Object[o(117)]?Object.setPrototypeOf[o(118)]():function(r,e){return r[o(109)]=e,r},r.exports[o(108)]=!0,r.exports[o(114)]=r[o(105)],t(e,n)}r[e(105)]=t,r[e(105)].__esModule=!0,r.exports.default=r[e(105)]}));function F(){var r=["prototype","defineProperty","unwrapExports","16930VSrSXu","65850czXfxA","Super expression must either be null or a function","470fwMyRN","4934691ZicHGD","63DRFkBK","311823iVGLtr","1662728BPkNAT","createCommonjsModule","3342IXzWGF","create","function","exports","default","534596RxFIat"];return(F=function(){return r})()}e(D);var W=G;!function(r,e){for(var t=G,n=r();;)try{if(161453===parseInt(t(344))/1+-parseInt(t(341))/2*(parseInt(t(347))/3)+-parseInt(t(334))/4+parseInt(t(338))/5+parseInt(t(339))/6*(-parseInt(t(343))/7)+-parseInt(t(345))/8+parseInt(t(342))/9)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(F);var L=n[W(346)]((function(r){var e=W;r[e(350)]=function(r,e){var t=G;if(typeof e!==t(349)&&null!==e)throw new TypeError(t(340));r[t(335)]=Object[t(348)](e&&e[t(335)],{constructor:{value:r,writable:!0,configurable:!0}}),Object[t(336)](r,t(335),{writable:!1}),e&&D(r,e)},r[e(350)].__esModule=!0,r[e(350)][e(333)]=r[e(350)]})),U=n[W(337)](L);function G(r,e){var t=F();return(G=function(r,e){return t[r-=333]})(r,e)}function C(r,e){var t=B();return(C=function(r,e){return t[r-=265]})(r,e)}var Z=C;function B(){var r=["__esModule","default","118180IQCRvk","3241407PgROzm","2919228ObRkDZ","unwrapExports","1711548xRoXiv","object","Derived constructors may only return object or undefined","176188ltYhzc","1778622FwZQhX","7NyHcOL","5599120kWttCZ","exports"];return(B=function(){return r})()}!function(r,e){for(var t=C,n=r();;)try{if(708741===-parseInt(t(275))/1+parseInt(t(272))/2+-parseInt(t(269))/3+parseInt(t(270))/4+-parseInt(t(268))/5+-parseInt(t(276))/6*(parseInt(t(277))/7)+parseInt(t(278))/8)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(B);var Q=t((function(r){var e=C,t=p[e(267)];r[e(265)]=function(r,n){var o=e;if(n&&(t(n)===o(273)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError(o(274));return O(r)},r[e(265)][e(266)]=!0,r[e(265)].default=r.exports})),z=n[Z(271)](Q),K=H;function H(r,e){var t=J();return(H=function(r,e){return t[r-=174]})(r,e)}function J(){var r=["14547260eOcZby","default","319310xOOLiV","69487KDRctP","createCommonjsModule","exports","1720836OaKXtN","1209912nIwuvm","6xLAusZ","__proto__","unwrapExports","__esModule","2vMNfTg","3606925ZOanhl","75npkafF","113048cyhSLu","getPrototypeOf"];return(J=function(){return r})()}!function(r,e){for(var t=H,n=r();;)try{if(406215===parseInt(t(188))/1*(parseInt(t(180))/2)+parseInt(t(182))/3*(-parseInt(t(183))/4)+-parseInt(t(187))/5*(-parseInt(t(176))/6)+-parseInt(t(181))/7+-parseInt(t(175))/8+parseInt(t(174))/9+parseInt(t(185))/10)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(J);var V=n[K(189)]((function(r){var e=K;function t(e){var n=H;return r[n(190)]=t=Object.setPrototypeOf?Object[n(184)].bind():function(r){var e=n;return r[e(177)]||Object[e(184)](r)},r[n(190)][n(179)]=!0,r[n(190)].default=r[n(190)],t(e)}r.exports=t,r[e(190)].__esModule=!0,r[e(190)][e(186)]=r.exports})),X=n[K(178)](V);function Y(r,e){var t=q();return(Y=function(r,e){return t[r-=279]})(r,e)}function q(){var r=["707628PZpplS","25WjgWeX","once","emit","24QsBhKH","length","25963rZRNrr","6919896GlPHFg","106928yAdTPD","keys","apply","120SgslaU","11ekEGZO","slice","15543HKooPZ","off","5559550GeudcO","ctx","push","455414VdWTYw","1164QTNUSG"];return(q=function(){return r})()}!function(r,e){for(var t=Y,n=r();;)try{if(986865===parseInt(t(280))/1+-parseInt(t(291))/2*(-parseInt(t(297))/3)+-parseInt(t(293))/4*(-parseInt(t(294))/5)+parseInt(t(292))/6*(-parseInt(t(299))/7)+-parseInt(t(283))/8*(-parseInt(t(286))/9)+-parseInt(t(288))/10+-parseInt(t(284))/11*(parseInt(t(279))/12))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(q);var $=function(){var r=Y;function e(){i(this,e)}return _(e,[{key:"on",value:function(r,e,t){var n=this.e||(this.e={});return(n[r]||(n[r]=[])).push({fn:e,ctx:t}),this}},{key:r(295),value:function(r,e,t){var n=this;function o(){var a=Y;n[a(287)](r,o);for(var s=arguments.length,i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];e[a(282)](t,i)}return o._=e,this.on(r,o,t)}},{key:r(296),value:function(e){for(var t=r,n=((this.e||(this.e={}))[e]||[])[t(285)](),o=arguments[t(298)],a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];for(var i=0;i<n[t(298)];i+=1)n[i].fn.apply(n[i][t(289)],a);return this}},{key:r(287),value:function(e,t){var n=r,o=this.e||(this.e={});if(!e)return Object[n(281)](o).forEach((function(r){delete o[r]})),void delete this.e;var a=o[e],s=[];if(a&&t)for(var i=0,u=a[n(298)];i<u;i+=1)a[i].fn!==t&&a[i].fn._!==t&&s[n(290)](a[i]);return s[n(298)]?o[e]=s:delete o[e],this}}]),e}(),rr=ir;!function(r,e){for(var t=ir,n=r();;)try{if(448261===-parseInt(t(399))/1+-parseInt(t(412))/2*(parseInt(t(398))/3)+parseInt(t(409))/4+parseInt(t(401))/5+-parseInt(t(410))/6*(parseInt(t(418))/7)+parseInt(t(397))/8*(parseInt(t(417))/9)+-parseInt(t(407))/10*(-parseInt(t(395))/11))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(sr);var er={debug:rr(408),warn:rr(421)},tr={debug:!1,debugLevel:er[rr(421)],debugUuid:"",decoder:rr(420)},nr={init:"init",startRecord:rr(419),stopRecord:rr(414),videoFrame:rr(406),audioFrame:rr(396),destroy:rr(415)},or={init:rr(403),startRecordError:rr(402),startRecordSuccess:"startRecordSuccess",recordEnd:rr(404),stopRecordError:rr(405),recordTimestamp:rr(411)},ar={load:rr(413),workerError:rr(416),startRecordSuccess:"startRecordSuccess",startRecordError:rr(402),stopRecordError:rr(405),recordEnd:"recordEnd",recordingTimestamp:rr(394)};function sr(){var r=["385995SAjfFF","427901JsueOk",'"1.0.0"',"522480yQHoQe","startRecordError","init","recordEnd","stopRecordError","videoFrame","10OTHNzT","debug","460908KhmeNj","46896CUACHF","recordTimestamp","4YhzGSP","load","stopRecord","destroy","workerError","351801dlGPca","259fRYJmn","startRecord","jessibuca-pro-mp4-recorder-decoder.js","warn","recordingTimestamp","11082676InZBWY","audioFrame","40lsyMdP"];return(sr=function(){return r})()}function ir(r,e){var t=sr();return(ir=function(r,e){return t[r-=394]})(r,e)}var ur=rr(400);function cr(r,e){var t=dr();return(cr=function(r,e){return t[r-=368]})(r,e)}function fr(r){return null==r}function pr(){return function(r){var e=cr,t="";if(d(r)===e(379))try{t=JSON[e(376)](r),t=JSON[e(373)](t)}catch(e){t=r}else t=r;return t}(tr)}function dr(){var r=["8gDyvpF","4022888EkHlAQ","object","13824XnaLbQ","461354CUkygZ","3054995Kxgpxj","7JZKHYL","10240VBfIqd","1270938UFbkvL","992814OCTOie","parse","true","3550986XorqAs","stringify"];return(dr=function(){return r})()}function vr(r){return!0!==r&&r!==cr(374)}function hr(r,e){var t=Ir();return(hr=function(r,e){return t[r-=332]})(r,e)}!function(r,e){for(var t=cr,n=r();;)try{if(336194===-parseInt(t(381))/1+-parseInt(t(371))/2+parseInt(t(372))/3*(-parseInt(t(377))/4)+parseInt(t(368))/5+-parseInt(t(375))/6+parseInt(t(369))/7*(parseInt(t(378))/8)+-parseInt(t(380))/9*(-parseInt(t(370))/10))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(dr),function(r,e){for(var t=hr,n=r();;)try{if(465259===parseInt(t(350))/1*(-parseInt(t(345))/2)+-parseInt(t(342))/3+-parseInt(t(341))/4+parseInt(t(339))/5+parseInt(t(332))/6+parseInt(t(344))/7+parseInt(t(343))/8*(-parseInt(t(347))/9))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(Ir);var lr=_((function r(e){var t=hr;i(this,r),this.log=function(r){var t=hr;if(e[t(340)][t(334)]&&e[t(340)].debugLevel==er.debug){for(var n,o=e[t(340)][t(346)]?"["[t(335)](e[t(340)][t(346)],"]"):"",a=arguments[t(338)],s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];(n=console).log[t(351)](n,[t(352).concat(o,t(337))[t(335)](r,"]")][t(335)](s))}},this[t(336)]=function(r){var n=t;if(e[n(340)][n(334)]&&(e[n(340)][n(333)]==er[n(334)]||e[n(340)][n(333)]==er.warn)){for(var o,a=e._opt[n(346)]?"[".concat(e[n(340)][n(346)],"]"):"",s=arguments[n(338)],i=new Array(s>1?s-1:0),u=1;u<s;u++)i[u-1]=arguments[u];(o=console).log[n(351)](o,[n(352)[n(335)](a,"[❗❗❗][wasmMp4Recorder][").concat(r,"]")][n(335)](i))}},this.error=function(r){for(var n,o=t,a=e._opt[o(346)]?"["[o(335)](e[o(340)][o(346)],"]"):"",s=arguments[o(338)],i=new Array(s>1?s-1:0),u=1;u<s;u++)i[u-1]=arguments[u];(n=console)[o(348)][o(351)](n,[o(352)[o(335)](a,o(349)).concat(r,"]")][o(335)](i))}}));function Ir(){var r=["debugUuid","2777535XfvMDT","error","[❌❌❌][wasmMp4Recorder][","37181OTkUlV","apply","JbPro","1257114TBVVtq","debugLevel","debug","concat","warn","[✅✅✅][wasmMp4Recorder][","length","4015645nvnDum","_opt","325180gaIAgq","362511CJLUvh","8sjjPTs","4168045sJcixf","34dTqPMF"];return(Ir=function(){return r})()}function br(r,e){var t=yr();return(br=function(r,e){return t[r-=298]})(r,e)}function yr(){var r=["terminate","1463752PsxWll","prototype","startRecord","off","buildTime","valueOf","stopRecord","call","2408728SaPQqu","startRecordError","emit","onmessageerror","videoFrame","debugError","27QHbmTQ","construct","9MZqhYQ","recordingTimestamp","constructor","onmessage:","recordEnd","sendVideoFrame","debug","DecoderWorker","onerror","6166120XsPgSW","cmd","sham","onmessageerror:","init","debugLevel","18IMdvin","onmessage","debugLog","237837JzxQOR","data","4875600aNDJUh","destroy","stopRecordError","686832cWLMAp","1094296jUghMs","mp4Recorder","buffer","_initWorker","_opt","startRecordSuccess","stringify","postMessage","recordTimestamp","function","decoderWorker","sendAudioFrame","_initDecoderWorker","load","TAG_NAME","decoder"];return(yr=function(){return r})()}function mr(r){var e=function(){var r=br;if("undefined"==typeof Reflect||!Reflect[r(341)])return!1;if(Reflect[r(341)][r(353)])return!1;if(typeof Proxy===r(318))return!0;try{return Boolean[r(327)][r(331)][r(333)](Reflect[r(341)](Boolean,[],(function(){}))),!0}catch(r){return!1}}();return function(){var t,n=br,o=X(r);if(e){var a=X(this)[n(344)];t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return z(this,t)}}!function(r,e){for(var t=br,n=r();;)try{if(529350===-parseInt(t(303))/1+parseInt(t(308))/2*(parseInt(t(342))/3)+-parseInt(t(309))/4+parseInt(t(305))/5+-parseInt(t(300))/6*(parseInt(t(334))/7)+-parseInt(t(326))/8*(parseInt(t(340))/9)+parseInt(t(351))/10)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(yr);var gr=function(r){var e=br;U(n,r);var t=mr(n);function n(r){var e,o=br;i(this,n),(e=t[o(333)](this))[o(310)]=r,e[o(323)]=o(349);var a=r[o(313)][o(324)];return e[o(319)]=new Worker(a),e[o(321)](),r[o(302)](e[o(323)],"init"),e}return _(n,[{key:e(306),value:function(){var r=e;this[r(329)](),this[r(319)]&&(this[r(319)][r(325)](),this[r(319)]=null),this.mp4Recorder.debugLog(this[r(323)],r(306))}},{key:e(321),value:function(){var r=e,t=this;this[r(310)][r(348)],this[r(319)][r(350)]=function(e){var n=r;t[n(310)][n(339)](t[n(323)],"onerror:",e),t[n(336)](ar.workerError,e)},this[r(319)][r(337)]=function(e){var n=r;t[n(310)][n(339)](t[n(323)],n(354),e)},this[r(319)][r(301)]=function(e){var n=r,o=e.data;switch(o[n(352)]){case or.init:t[n(310)][n(302)](t[n(323)],n(345),or[n(298)]),t.decoderWorker&&t[n(312)](),t.emit(ar[n(322)]);break;case or[n(335)]:t[n(336)](ar[n(335)]);break;case or[n(314)]:t[n(336)](ar[n(314)]);break;case or.stopRecordError:t[n(336)](ar[n(307)]);break;case or.recordEnd:t.emit(ar[n(346)],o[n(304)]);break;case or[n(317)]:t.emit(ar[n(343)],o.msg)}}}},{key:"_initWorker",value:function(){var r=e,t={debug:this[r(310)][r(313)][r(348)],debugLevel:this[r(310)][r(313)][r(299)],debugUuid:this[r(310)][r(313)].debugUuid};this[r(319)][r(316)]({cmd:nr.init,opt:JSON[r(315)](t)})}},{key:e(347),value:function(r,t,n,o){var a=e;this[a(319)].postMessage({cmd:nr[a(338)],data:r,isIFrame:t,dts:n,pts:o},[r[a(311)]])}},{key:e(320),value:function(r,t){this[e(319)].postMessage({cmd:nr.audioFrame,data:r,ts:t},[r.buffer])}},{key:"startRecord",value:function(r){var t=e;this[t(319)][t(316)]({cmd:nr[t(328)],streamInfo:r,buildTime:this[t(310)][t(330)]})}},{key:"stopRecord",value:function(){var r=e;this[r(319)].postMessage({cmd:nr[r(332)]})}}]),n}($),kr=wr;function wr(r,e){var t=Rr();return(wr=function(r,e){return t[r-=230]})(r,e)}function Rr(){var r=["debugWarn","video extraData can not be undefined","TAG_NAME","depth","audio type can not be undefined","debugLog","error","height","emit","constructor","assign"," and is Trial Version[试用版本]","4866936MRyWvG","_opt","_reset","audio depth can not be undefined","function","destroy","2361665mPXTbO","worker","isRecording","startRecordSuccess","video height can not be undefined","video width can not be undefined","JbPro wasm mp4 recorder version is ","1827YNitqy","extraData","construct","call","concat","1970SLDdIj","log","sampleRate","_destroyWorker","startTimestamp","load","JessibucaProMp4Recorder","232916dIAgxh","warn","_startRecord","stopRecordError","stringify","now","debugError","once","video type can not be undefined","audio","startRecordError","type","channels","1daPNpx","stopRecord","sendAudioFrame","recordingTimestamp","3xWZBVw","debug",'JbProMp4Recorder option "',"video","apply",'" can not be undefined',"video/mp4","3906852gkgYBR","buffer","length","1240336JnSSxt","recordEnd","audio extraData can not be undefined","keys","video and audio can not be false at the same time","3657535hLmFyu","isRecording is false","buildTime","init"];return(Rr=function(){return r})()}function xr(r){var e=function(){var r=wr;if("undefined"==typeof Reflect||!Reflect[r(238)])return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy===r(300))return!0;try{return Boolean.prototype.valueOf.call(Reflect[r(238)](Boolean,[],(function(){}))),!0}catch(r){return!1}}();return function(){var t,n=wr,o=X(r);if(e){var a=X(this)[n(293)];t=Reflect.construct(o,arguments,a)}else t=o[n(269)](this,arguments);return z(this,t)}}!function(r,e){for(var t=wr,n=r();;)try{if(350133===-parseInt(t(261))/1*(parseInt(t(275))/2)+-parseInt(t(265))/3*(-parseInt(t(248))/4)+parseInt(t(302))/5+-parseInt(t(272))/6+parseInt(t(280))/7+parseInt(t(296))/8+-parseInt(t(236))/9*(parseInt(t(241))/10))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(Rr);var Er=function(r){var e=wr;U(n,r);var t=xr(n);function n(){var r,e=wr,o=arguments[e(274)]>0&&void 0!==arguments[0]?arguments[0]:{};i(this,n),(r=t[e(239)](this))[e(297)]={},Object[e(278)](o).forEach((function(r){var t=e;if(void 0===o[r])throw new Error(t(267)[t(240)](r,t(270)))})),r.originalOptions=o;var a=pr(),s=Object[e(294)]({},a,o);return r[e(297)]=s,r[e(231)]=!1,r[e(282)]=s.name+"-"+s[e(282)],r.debug=new lr(j(r)),r[e(230)]=null,r[e(245)]=null,r[e(286)]="Recorder",r[e(289)](r[e(286)],e(283),JSON[e(252)](r[e(297)])),console[e(242)](e(235)[e(240)](o[e(282)],":")[e(240)](ur,e(295))),r}return _(n,[{key:"destroy",value:function(){this._reset(),this._destroyWorker()}},{key:e(298),value:function(){var r=e;this[r(231)]=!1,this[r(245)]=null}},{key:e(244),value:function(){var r=e;this[r(230)]&&(this[r(230)][r(301)](),this[r(230)]=null)}},{key:"startRecord",value:function(){var r=e,t=this,n=arguments[r(274)]>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,o){var a=r;t[a(289)](t[a(286)],"startRecord",JSON[a(252)](n));var s=!!n[a(257)],i=!!n.video;if(vr(i)&&vr(s))return t.debugError(t[a(286)],a(279)),void o(a(279));if(s){if(fr(n[a(257)][a(259)]))return t[a(254)](t.TAG_NAME,a(288)),void o(a(288));if(fr(n.audio.extraData))return t.debugError(t[a(286)],a(277)),void o(a(277));if(fr(n[a(257)][a(243)]))return t[a(254)](t.TAG_NAME,a(277)),void o("audio extraData can not be undefined");if(fr(n[a(257)][a(260)]))return t.debugError(t.TAG_NAME,"audio channels can not be undefined"),void o("audio channels can not be undefined");if(fr(n[a(257)][a(287)]))return t.debugError(t[a(286)],a(299)),void o("audio depth can not be undefined")}if(i){if(fr(n[a(268)][a(259)]))return t[a(254)](t[a(286)],"video type can not be undefined"),void o(a(256));if(fr(n.video[a(237)]))return t[a(254)](t[a(286)],"video extraData can not be undefined"),void o(a(285));if(fr(n.video.width))return t[a(254)](t[a(286)],a(234)),void o(a(234));if(fr(n[a(268)][a(291)]))return t.debugError(t[a(286)],a(233)),void o(a(233))}t.worker?t[a(250)](n,e,o):(t[a(230)]=new gr(t),t[a(230)].once(ar[a(246)],(function(){var r=a;t._startRecord(n,e,o),t[r(245)]=Date[r(253)]()})),t[a(230)].once(ar.workerError,(function(r){o(r)})),t[a(230)].on(ar[a(264)],(function(r){var e=a;t[e(292)](ar[e(264)],r)})))}))}},{key:e(250),value:function(){var r=e,t=this,n=arguments[r(274)]>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[r(274)]>1?arguments[1]:void 0,a=arguments[r(274)]>2?arguments[2]:void 0;this[r(230)].startRecord(n),this[r(230)][r(255)](ar[r(258)],(function(e){var n=r;t[n(254)](t[n(286)],n(258),e),a(e)})),this[r(230)][r(255)](ar.startRecordSuccess,(function(){var e=r;t[e(231)]=!0,t[e(289)](t.TAG_NAME,e(232)),o()}))}},{key:e(262),value:function(){var r=this;return new Promise((function(e,t){var n=wr;r[n(289)](r[n(286)],n(262)),vr(r[n(231)])&&(r[n(244)](),r[n(254)](r[n(286)],n(281)),t("isRecording is false")),r[n(231)]=!1,r.worker.stopRecord(),r[n(230)][n(255)](ar[n(251)],(function(e){var o=n;r[o(244)](),r[o(254)](r.TAG_NAME,"stopRecordError",e),t(e)})),r.worker[n(255)](ar[n(276)],(function(t){var o=n;r[o(244)](),r[o(289)](r.TAG_NAME,"recordEnd");var a=new Blob([t[o(273)]],{type:o(271)});e(a)}))}))}},{key:"sendVideoFrame",value:function(r,t,n,o){var a=e;if(this[a(231)]&&this.worker){if(Date[a(253)]()-this[a(245)]>6e5)return;var s=n+o;this[a(230)].sendVideoFrame(r,t,n,s)}}},{key:e(263),value:function(r,t){var n=e;if(this[n(231)]&&this[n(230)]){if(Date[n(253)]()-this[n(245)]>6e5)return;this[n(230)][n(263)](r,t)}}},{key:e(289),value:function(r){var t=e;if(this[t(297)][t(266)]&&this[t(266)]){for(var n,o=arguments[t(274)],a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];(n=this.debug)[t(242)][t(269)](n,[r][t(240)](a))}}},{key:e(284),value:function(r){var t=e;if(this[t(297)].debug&&this[t(266)]){for(var n,o=arguments[t(274)],a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];(n=this[t(266)])[t(249)].apply(n,[r][t(240)](a))}}},{key:e(254),value:function(r){var t=e;if(this.debug){for(var n,o=arguments[t(274)],a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];(n=this[t(266)])[t(290)][t(269)](n,[r][t(240)](a))}}}]),n}($);window[kr(247)]=Er}));
